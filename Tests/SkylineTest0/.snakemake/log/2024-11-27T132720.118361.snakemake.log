Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Job stats:
job            count
-----------  -------
all                1
buildSalmon        1
kaiju              1
total              3

Select jobs to execute...
Execute 1 jobs...

[Wed Nov 27 13:27:24 2024]
localrule kaiju:
    input: /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/PathSeq/SlurmSnakemakeBaseCode/protein_kaiju.sh, /data/vrc_his/douek_lab/reference_sets/NCBI_nt/20220512/kaiju/nodes.dmp, /data/vrc_his/douek_lab/reference_sets/NCBI_nt/20220512/kaiju/nr_euk/kaiju_db_nr_euk.fmi, /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_trinity_filtered/nonMammal_trinity_Origin_RNA.fasta
    output: /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_kaiju_output/sorted_protein_kaiju_RNA.tab, /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_kaiju_output/formatted_non_host_proteins_nucleotide_RNA.fa, /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_kaiju_output/formatted_non_host_proteins_RNA.faa
    jobid: 2
    reason: Missing output files: /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_kaiju_output/formatted_non_host_proteins_nucleotide_RNA.fa, /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_kaiju_output/formatted_non_host_proteins_RNA.faa
    wildcards: sample=582760806_A5_S33
    resources: tmpdir=/data/scratch/parkercol/ai-hpcsubmit2


        module purge
        module load fastx-toolkit

        bash /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/PathSeq/SlurmSnakemakeBaseCode/protein_kaiju.sh /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/PathSeq/SlurmSnakemakeBaseCode/ 582760806_A5_S33_R1_001_short_test 582760806_A5_S33_R2_001_short_test /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_trinity_filtered/nonMammal_trinity_Origin_RNA.fasta         RNA /data/vrc_his/douek_lab/projects/PathSeq/programs/prodigal/bin /data/vrc_his/douek_lab/projects/PathSeq/programs/kaiju/kaiju-v1.9.0-linux-x86_64-static /data/vrc_his/douek_lab/reference_sets/NCBI_nt/20220512/kaiju/nodes.dmp /data/vrc_his/douek_lab/reference_sets/NCBI_nt/20220512/kaiju/nr_euk/kaiju_db_nr_euk.fmi         /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test
        
[Wed Nov 27 13:30:37 2024]
Finished job 2.
1 of 3 steps (33%) done
Select jobs to execute...
Execute 1 jobs...

[Wed Nov 27 13:30:37 2024]
localrule buildSalmon:
    input: /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/PathSeq/SlurmSnakemakeBaseCode/buildSalmon.sh, /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_kaiju_output/sorted_protein_kaiju_RNA.tab, /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_kaiju_output/formatted_non_host_proteins_nucleotide_RNA.fa, /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_kaiju_output/formatted_non_host_proteins_RNA.faa, /data/vrc_his/douek_lab/reference_sets/NCBI_nt/20220512/kaiju/nodes.dmp
    output: /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_salmon_quant/salmon/kingdom_sequences.fa, /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_salmon_quant/salmon/phylum_sequences.fa, /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_salmon_quant/salmon/order_sequences.fa, /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_salmon_quant/salmon/class_sequences.fa, /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_salmon_quant/salmon/family_sequences.fa, /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_salmon_quant/salmon/genus_sequences.fa, /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_salmon_quant/salmon/species_sequences.fa
    jobid: 1
    reason: Missing output files: /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_salmon_quant/salmon/kingdom_sequences.fa; Input files updated by another job: /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_kaiju_output/formatted_non_host_proteins_nucleotide_RNA.fa, /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_kaiju_output/sorted_protein_kaiju_RNA.tab, /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/Output/Sample_582760806_A5_S33_R1_001_short_test/RNA_kaiju_output/formatted_non_host_proteins_RNA.faa
    wildcards: sample=582760806_A5_S33
    resources: tmpdir=/data/scratch/parkercol/ai-hpcsubmit2

RuleException in rule buildSalmon in file /data/vrc_his/douek_lab/projects/PathSeq/cokie_pathseq_rewrite/PathSeq/Tests/SkylineTest0/Snakefile, line 310:
NameError: The name 'wildcard' is unknown in this context. Please make sure that you defined that variable. Also note that braces not used for variable access have to be escaped by repeating them, i.e. {{print $1}}, when formatting the following:

        module purge
        module load java
        which java
        module load salmon
        which salmon

        bash {input.scriptPath} {params.codePath} {input.kaijuSortedTab}             {input.kaijuNonHostNucleotide} {input.kaijuNonHostProtein} {wildcard.taxlevel}             {param.origin} {?? NCBI_NT_kaiju_ref_taxonomy} {input.kaiju_nodes}             {param.outPath}
        
